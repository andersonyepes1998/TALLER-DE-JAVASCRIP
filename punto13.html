<div class="container">
    <form>
      <label for="usrname">Username</label>
      <input type="text" id="usrname" name="usrname" required>
  
      <label for="psw">Password</label>
      <input type="password" id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
  
      <input type="submit" value="Submit">
    </form>
  </div>
  
  <div id="message">
    <h3>Password must contain the following:</h3>
    <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
    <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
    <p id="number" class="invalid">A <b>number</b></p>
    <p id="length" class="invalid">Minimum <b>8 characters</b></p>
  </div>
  
  <style>
  /* Style all input fields */
  input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    margin-top: 6px;
    margin-bottom: 16px;
  }
  
  /* Style the submit button */
  input[type=submit] {
    background-color: #04AA6D;
    color: white;
  }
  
  /* Style the container for inputs */
  .container {
    background-color: #f1f1f1;
    padding: 20px;
  }
  
  /* The message box is shown when the user clicks on the password field */
  #message {
    display:none;
    background: #f1f1f1;
    color: #000;
    position: relative;
    padding: 20px;
    margin-top: 10px;
  }
  
  #message p {
    padding: 10px 35px;
    font-size: 18px;
  }
  
  /* Add a green text color and a checkmark when the requirements are right */
  .valid {
    color: green;
  }
  
  .valid:before {
    position: relative;
    left: -35px;
    content: "&#10004;";
  }
  
  /* Add a red text color and an "x" icon when the requirements are wrong */
  .invalid {
    color: red;
  }
  
  .invalid:before {
    position: relative;
    left: -35px;
    content: "&#10006;";
  }
  </style>

  <script>
      //varibles
      let password = document.querySelector("#psw");
      let mayusculas = document.querySelector("#capital");
      let minuculas = document.querySelector("#letter");
      let numeros = document.querySelector("#number");
      let caracteres = document.querySelector("#length");
      let mostrarMensaje = document.querySelector("#message");

    password.addEventListener("focus", function(){
        //mostrar los mensajes de validacion
        mostrarMensaje.style.display = "block";
        //console.log(evento.key);
    });
    password.addEventListener("blur", function(){
        mostrarMensaje.style.display = "none";
    });
    password.addEventListener("keyup", function(){
        //validar si esta escribiendo un dato bien
        //validar minusculas
        let patronMinus = /g[a-z]/g;
        if (password.value.match(patronMinus)) {
                minuculas.classList.remove("invalid");
                minuculas.classList.add("valid");
        }else{
            minuculas.classList.remove("valid");
            minuculas.classList.add("invalid");
        }
        //validar mayusculas
        let patronMayus = /g[A-Z]/g;
        if (password.value.match(patronMayus)) {
                mayusculas.classList.remove("invalid");
                mayusculas.classList.add("valid");
        }else{
            mayusculas.classList.remove("valid");
            mayusculas.classList.add("invalid");
        }
        //validar numeros
        let patronNum= /g[0-9]/g;
        if (password.value.match(patronNum)) {
            numeros.classList.remove("invalid");
            numeros.classList.add("valid");
        }else{
            numeros.classList.remove("valid");
            numeros.classList.add("invalid");
        }
        //validar limite de caracteres
        if (password.value.lenght >= 8) {
            caracteres.classList.remove("invalid");
            caracteres.classList.add("valid");
        }else{
            caracteres.classList.remove("valid");
            caracteres.classList.add("invalid");
        }
    });


  </script>
  